{% extends "components/base.html" %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 class="title">Major Reasons</h1>
        <canvas id="myChart" width="100" height="100"></canvas>
        <br>
        <h1 class="title">Age Wise</h1>
        <canvas id="myChart2" width="100" height="100"></canvas>
    </div>
</section>
<script>
    var reason = {{reason | safe}};
    // reason = unescape(reason);
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ['Travel Abroad', 'Travel Within Country', 'Person to Person'],
        datasets: [{
            label: 'Major Reasons for the Spread',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [reason['Travel Abroad'], reason['Travel Within Country'], reason['Person to Person']]
        }]
    },

    // Configuration options go here
    options: {}
    });

// var patients = {{ patients }};

// for(var i = 0 ; i < {{patients}}.length;i++){
//     console.log({{patients}}[i]);
// }
var ctx = document.getElementById('myChart2').getContext('2d');

var ages = {{age | safe}};
var myLineChart = new Chart(ctx, {
    type: 'line',
    data:{ labels: [10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69],
        datasets: [{
            label: 'Age groups affected',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [ages[10],ages[11],ages[12],ages[13],ages[14],ages[15],ages[16],ages[17],ages[18],ages[19],ages[20],ages[21],ages[22],ages[23],ages[24],ages[25],ages[26],ages[26],ages[27],ages[28],ages[28],ages[29],ages[30],ages[31],ages[32],ages[34],ages[35],ages[36],ages[37],ages[38],ages[39],ages[40],ages[41],ages[42],ages[43],ages[44],ages[45],ages[46],ages[47],ages[48],ages[49],ages[50],ages[51],ages[52],ages[53],ages[54],ages[55],ages[56],ages[57],ages[58],ages[59],ages[60],ages[61],ages[62],ages[63],ages[64],ages[65],ages[66],ages[67],ages[68],ages[69]]
        }]
    },
    options: {}
});

</script>
{% endblock %}